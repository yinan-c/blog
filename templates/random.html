{% extends "base.html" %}

{% block main %}
<header>
  <h1>{{ blog.name }}</h1>
</header>

<h3>Go to an article randomly</h3>

<p>访问本页会随机访问一篇文章（自动跳转）</p>

{% endblock %}

{% block footer %}
<div id="footer">
  <p id="footer-body">
    © 2023 - 2024 <a href = "{{ blog.website }}">{{ blog.author }}</a>
    <a href="http://creativecommons.org/licenses/by/4.0/"><img src="https://mirrors.creativecommons.org/presskit/buttons/88x31/png/by.png" alt="Creative Commons Licence" width="45" style="vertical-align: text-top;" ></a>
    · Powered by <a href="https://github.com/yinan-c/pyboke">PyBoke</a>
    · Subscribe via <a href="atom.xml"> RSS <img src="https://wp-assets.rss.com/blog/wp-content/uploads/2019/10/10111557/social_style_3_rss-512-1.png" alt="RSS" width="15" height="15" style="vertical-align: text-top;"></a>
  </p>
</div>
{% endblock %}

{% block script %}
<script>
const files = {{ files|safe }}
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}
function randomlyGo() {
  const i = getRandomInt(0, files.length);
  location.href = files[i];
}
randomlyGo()
</script>
{% endblock %}
